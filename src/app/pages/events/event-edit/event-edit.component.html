<form [formGroup]="editForm" (ngSubmit)="onSubmit()">
  <header>
    <h1>Add Event</h1>
    <p>The event you add is a mock event and will not be persisted outside this application session.</p>
  </header>

  <label>
    <div class="text">Event Subject*</div>

    <div class="container">
      <input
        type="text"
        placeholder="enter an Event name"
        formControlName="subject"
      >

      <p *ngIf="!this.editForm.get('subject').valid && this.editForm.get('subject').touched">
        Please enter an event subject!
      </p>
    </div>
  </label>

  <label>
    <div class="text">Event Date*</div>

    <div class="container">
      <input
        type="date"
        formControlName="date"
        [min]="this.editForm.get('date').value"
      >

      <p *ngIf="!this.editForm.get('date').valid && this.editForm.get('date').touched">
        Please enter an event date!
      </p>
    </div>
  </label>

  <div formGroupName="time">
    <label>
      <div class="text">Start Time*</div>

      <div class="container">
        <input
          type="time"
          step="300"
          formControlName="start"
        >

        <p *ngIf="!this.editForm.get('time.start').valid && this.editForm.get('time.start').touched">
          Please enter an event start time!
        </p>
      </div>

    </label>

    <label>
      <div class="text">End Time*</div>

      <div class="container">
        <input
          type="time"
          step="300"
          formControlName="end"
        >

        <p *ngIf="!this.editForm.get('time.end').valid && this.editForm.get('time.end').touched">
          Please enter an event end time!
        </p>
      </div>
    </label>

    <div class="offset">
      <p *ngIf="!this.editForm.get('time').valid && this.editForm.get('time').touched">
        Please make sure that the start time comes before the end time.
      </p>

      <p *ngIf="store.operatingHours$ | async as hours">
        * Office hours are {{ hours.startTime | date:'shortTime' }} to
        {{ hours.endTime | date:'shortTime' }}
      </p>
    </div>
  </div>

  <input type="submit" value="Create Event" [disabled]="!this.editForm.valid">
</form>

<app-calendar
  [options]="calendarOptions"
  [events]="sketchEvents"
>
</app-calendar>
